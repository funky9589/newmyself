<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>音樂幽浮</title>
  </head>
  <body>
    <!-- 表頭 -->
    <nav class="navbar navbar-expand-lg navbar-custom">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="web.html">
          <img src="img/logo-removebg.png" alt="音樂幽浮 Logo" class="logo-img me-2">
          音樂幽浮的日文歌小天地
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="about.html">有關本站<br><small>About Web</small></a></li>
            <li class="nav-item"><a class="nav-link" href="news.html">日音消息<br><small>News</small></a></li>
            <li class="nav-item"><a class="nav-link" href="singer.html">歌手介紹<br><small>singer introduce</small></a></li>
            <li class="nav-item"><a class="nav-link" href="monthly.html">每月推薦歌單<br><small>month</small></a></li>
            
          </ul>
        </div>
      </div>
    </nav>
    
    <!-- 主要內容區 -->
    <section class="about-section">
      <div class="about-content">
        <img src="img/logo-removebg.png" alt="關於我的圖片">
        <div class="text">
          <h2>關於我</h2>
          <p>我是音樂幽浮，喜歡日文歌曲，致力於推廣 Jpop。<br>
          目前還是學生，這是我第一個寫的網站<br>
          是作業，不過未來會繼續更新<br>
          我希望透過這個網站<br>
          能讓更多人認識到日文歌的魅力<br>
          <br>
          <h3>每一首歌，每個人背後都有一段它的故事。</h3>
        </div>
      </div>
    </section>

    <div class="text-center">
      <h2>聯絡我</h2>
      <p>如果有任何建議或問題，歡迎隨時與我聯繫！</p>
      <div class="contact-icons">
        <a href="https://www.instagram.com/funky_9589" target="_blank" class="text-primary fs-3" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="mailto:funky9589@gmail.com" class="text-danger fs-3" aria-label="Gmail">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
      <div class="d-flex justify-content-center mt-4">
        <form id="contactForm">
          <input id="email" type="email" name="email" placeholder="請輸入電子郵件" required>
          <textarea id="message" name="message" placeholder="請輸入訊息" required></textarea>
          <button type="submit">提交</button>
        </form>
        
        <div id="feedbackMessage" class="centered-message"></div>
      </div>
    
    <script>
      // 表單提交處理
      document.getElementById("contactForm").addEventListener("submit", function (event) {
  event.preventDefault(); // 阻止表單的預設提交行為

  const email = document.getElementById("email").value.trim();
  const message = document.getElementById("message").value.trim();
  const feedbackMessage = document.getElementById("feedbackMessage");
  const submitButton = document.querySelector("button[type='submit']");

  // 清空回饋訊息
  feedbackMessage.innerHTML = "";
  feedbackMessage.style.display = "none";
  submitButton.disabled = true; // 禁用按鈕避免重複提交

  fetch("/contact_me", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, message }),
  })
    .then((response) => {
      if (!response.ok) {
        throw new Error("伺服器回應失敗: " + response.statusText);
      }
      return response.json();
    })
    .then((data) => {
      // 顯示成功訊息
      feedbackMessage.innerHTML = `
        <div class="alert alert-success" role="alert">
          提交成功！<br>
          <strong>聯絡信箱：</strong> ${data.data.email}<br>
          <strong>我們會盡快回復!!!</strong>
        </div>`;
      feedbackMessage.style.display = "block";
      document.getElementById("contactForm").reset(); // 清空表單
    })
    .catch((error) => {
      console.error("提交失敗：", error);
      // 顯示失敗訊息
      feedbackMessage.innerHTML = `
        <div class="alert alert-danger" role="alert">
          提交失敗，請稍後再試。
        </div>`;
      feedbackMessage.style.display = "block";
    })
    .finally(() => {
      submitButton.disabled = false; // 恢復按鈕
      
      setTimeout(() => {
        feedbackMessage.style.display = "none";
      }, 2000);
    });
});

    </script>
    <!-- Footer -->
    <div id="feedbackMessage" class="floating-message"></div>
    <footer class="footer-custom text-white text-center container-fluid mt-5">
      <div class="container py-4">
        <h3>這裡是 Footer</h3>
        <p>想到就會補</p>
        <p>但是逮就補</p>
        <p>Copyright © 2024 FUNKY</p>
      </div>
    </footer>

    <script src="js/poopr.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  </body>
</html>